<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=3.0, user-scalable=yes">
    <title>智慧照護平台 - 切換帳號</title>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 自訂樣式 -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 手機容器 -->
    <div class="mobile-container">
        <!-- 頂部導覽列 -->
        <header class="header">
            <div class="header-back" onclick="goBack()">
                <i class="fas fa-arrow-left"></i>
            </div>
            <div class="header-title">切換帳號</div>
            <div class="header-icons">
                <i class="fas fa-user-friends" onclick="navigateTo('family-binding.html')"></i>
            </div>
        </header>

        <!-- 主要內容區 -->
        <main class="main-content">
            <!-- 說明區塊 -->
            <section class="info-banner">
                <div class="info-icon">
                    <i class="fas fa-exchange-alt"></i>
                </div>
                <div class="info-content">
                    <h3>切換家人帳號</h3>
                    <p>可在已綁定的家人帳號間快速切換，方便代為查看訂單、服務與通知。</p>
                </div>
            </section>

            <!-- 目前帳號 -->
            <section class="account-section">
                <div class="section-title">
                    <span>目前帳號</span>
                </div>
                <div class="account-list">
                    <div class="account-card active" data-name="王小明">
                        <div class="account-avatar primary">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="account-info">
                            <div class="account-name">王小明 <span class="account-badge">本人</span></div>
                            <div class="account-detail"><i class="fas fa-id-card"></i> 個案編號：PT2024001234</div>
                            <div class="account-meta"><i class="fas fa-clock"></i> 最近使用：2026/02/02 09:30</div>
                        </div>
                        <div class="account-actions">
                            <button class="btn btn-outline btn-switch" disabled>目前使用中</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 家人帳號 -->
            <section class="account-section">
                <div class="section-title">
                    <span>家人帳號</span>
                    <span class="count-badge">3</span>
                </div>
                <div class="account-list">
                    <div class="account-card" data-name="王小美">
                        <div class="account-avatar accent">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="account-info">
                            <div class="account-name">王小美 <span class="account-tag">女兒</span></div>
                            <div class="account-detail"><i class="fas fa-phone"></i> 0912-***-678</div>
                            <div class="account-meta"><i class="fas fa-shield-heart"></i> 權限：查看訂單、接收通知</div>
                        </div>
                        <div class="account-actions">
                            <button class="btn btn-primary btn-switch">切換</button>
                        </div>
                    </div>

                    <div class="account-card" data-name="王大明">
                        <div class="account-avatar info">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="account-info">
                            <div class="account-name">王大明 <span class="account-tag">兒子</span></div>
                            <div class="account-detail"><i class="fas fa-phone"></i> 0923-***-456</div>
                            <div class="account-meta"><i class="fas fa-shield-heart"></i> 權限：查看訂單、代付款</div>
                        </div>
                        <div class="account-actions">
                            <button class="btn btn-primary btn-switch">切換</button>
                        </div>
                    </div>

                    <div class="account-card" data-name="王雅婷">
                        <div class="account-avatar purple">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="account-info">
                            <div class="account-name">王雅婷 <span class="account-tag">媳婦</span></div>
                            <div class="account-detail"><i class="fas fa-phone"></i> 0933-***-902</div>
                            <div class="account-meta"><i class="fas fa-shield-heart"></i> 權限：接收通知</div>
                        </div>
                        <div class="account-actions">
                            <button class="btn btn-primary btn-switch">切換</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 底部導覽列 -->
        <nav class="bottom-nav">
            <a class="nav-item" onclick="navigateTo('index.html')">
                <i class="fas fa-home"></i>
                <span>首頁</span>
            </a>
            <a class="nav-item" onclick="navigateTo('categories.html')">
                <i class="fas fa-th-large"></i>
                <span>服務</span>
            </a>
            <a class="nav-item" onclick="navigateTo('orders.html')">
                <i class="fas fa-clipboard-list"></i>
                <span>訂單</span>
            </a>
            <a class="nav-item" onclick="navigateTo('messages.html')">
                <i class="fas fa-bell"></i>
                <span>訊息</span>
            </a>
            <a class="nav-item active" onclick="navigateTo('profile.html')">
                <i class="fas fa-user"></i>
                <span>我的</span>
            </a>
        </nav>
    </div>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.account-card');
            const buttons = document.querySelectorAll('.btn-switch');

            function setActive(card) {
                cards.forEach(item => {
                    item.classList.remove('active');
                    const button = item.querySelector('.btn-switch');
                    if (button) {
                        button.disabled = false;
                        button.classList.remove('btn-outline');
                        button.classList.add('btn-primary');
                        button.textContent = '切換';
                    }
                });

                card.classList.add('active');
                const activeButton = card.querySelector('.btn-switch');
                if (activeButton) {
                    activeButton.disabled = true;
                    activeButton.classList.remove('btn-primary');
                    activeButton.classList.add('btn-outline');
                    activeButton.textContent = '目前使用中';
                }

                const name = card.dataset.name || '家人';
                showToast(`已切換至 ${name} 帳號`, 'success');
            }

            buttons.forEach(button => {
                button.addEventListener('click', function(event) {
                    event.stopPropagation();
                    const card = this.closest('.account-card');
                    if (card && !card.classList.contains('active')) {
                        setActive(card);
                    }
                });
            });

            cards.forEach(card => {
                card.addEventListener('click', function() {
                    const button = this.querySelector('.btn-switch');
                    if (button && !button.disabled) {
                        button.click();
                    }
                });
            });
        });
    </script>
</body>
</html>
